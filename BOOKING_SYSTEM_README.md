# Play & Jump - Система управления бронированиями

## Обзор системы

Система управления бронированиями для сайта Play & Jump включает в себя:

1. **Админ-панель Django** - для управления товарами, категориями и бронированиями
2. **Страница управления бронированиями** - календарь для администраторов
3. **Корзина для клиентов** - добавление товаров и отправка заявок
4. **Email-уведомления** - автоматическая отправка заявок и подтверждений

## Доступ к системе

### 1. Админ-панель Django
- URL: `/admin/`
- Логин: `Admin`
- Пароль: `admin123`

### 2. Страница управления бронированиями
- URL: `/katalog/admin/bookings/`
- Доступ: только для администраторов
- Функции:
  - Просмотр всех бронирований в календаре
  - Создание новых бронирований
  - Редактирование существующих бронирований
  - Удаление бронирований
  - Фильтрация по продуктам

### 3. Корзина для клиентов
- URL: `/cart/`
- Функции:
  - Добавление товаров из каталога
  - Изменение количества
  - Удаление товаров
  - Отправка заявки с контактными данными

## Как использовать

### Для администраторов:

1. **Вход в админ-панель:**
   - Перейдите на `/admin/`
   - Введите логин и пароль

2. **Управление бронированиями через календарь:**
   - В админ-панели найдите "Buchungsverwaltung" в разделе Catalog
   - Или перейдите напрямую на `/katalog/admin/bookings/`
   - Используйте календарь для:
     - Просмотра всех бронирований
     - Создания новых бронирований (клик по дате)
     - Редактирования существующих (клик по событию)
     - Перетаскивания событий для изменения дат

3. **Управление через админ-панель:**
   - В разделе "Bookings" можно:
     - Просматривать список всех бронирований
     - Редактировать детали
     - Изменять статус (Ausstehend, Bestätigt, Storniert, Abgeschlossen)
     - Использовать массовые действия

### Для клиентов:

1. **Просмотр каталога:**
   - Перейдите на `/katalog/`
   - Используйте фильтры по категориям
   - Ищите товары по названию

2. **Добавление в корзину:**
   - Нажмите кнопку "Add to Cart" на любом товаре
   - Товар добавится в корзину (счетчик обновится)

3. **Управление корзиной:**
   - Перейдите на `/cart/`
   - Измените количество товаров
   - Удалите ненужные товары

4. **Отправка заявки:**
   - Заполните форму контактных данных
   - Обязательно укажите email ИЛИ телефон
   - Нажмите "Anfrage senden"
   - Получите подтверждение

## Тестовые данные

В системе уже созданы тестовые бронирования:
- Test Kunde 1: завтра на 2 дня (статус: Bestätigt)
- Test Kunde 2: через неделю на 3 дня (статус: Ausstehend)
- Test Kunde 3: через 2 недели на 1 день (статус: Bestätigt)

## Настройка email

Для отправки email в продакшене:

1. Измените настройки в `playandjump/settings.py`:
```python
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'dlktsprdct@gmail.com'
EMAIL_HOST_PASSWORD = 'ваш_пароль_приложения'
```

2. Создайте пароль приложения в Gmail:
   - Включите двухфакторную аутентификацию
   - Создайте пароль приложения для Django

## Структура файлов

- `catalog/views.py` - API для управления бронированиями
- `catalog/urls.py` - URL-маршруты для админ-функций
- `catalog/admin.py` - настройка админ-панели
- `main/views.py` - функции корзины и отправки заявок
- `main/urls.py` - URL-маршруты для корзины
- `templates/catalog/booking_management.html` - страница управления бронированиями
- `templates/main/cart.html` - страница корзины

## Возможные улучшения

1. **Интеграция с платежными системами**
2. **Автоматические напоминания о бронированиях**
3. **Статистика и отчеты**
4. **Мобильное приложение**
5. **Интеграция с внешними календарями**

## Поддержка

При возникновении проблем:
1. Проверьте логи Django
2. Убедитесь, что все миграции применены
3. Проверьте настройки email
4. Убедитесь, что у пользователя есть права администратора
