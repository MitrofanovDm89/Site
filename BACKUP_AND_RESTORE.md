# üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å Python Anywhere

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (–≤—Å–µ –±—Ä–æ–Ω–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) - `db.sqlite3` –∏–ª–∏ —á–µ—Ä–µ–∑ `dumpdata`
2. **–ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã** (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã) - –ø–∞–ø–∫–∞ `media/`
3. **–ö–æ–¥** - —É–∂–µ –≤ Git, –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ

---

## üîÑ –í–ê–†–ò–ê–ù–¢ 1: –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ dumpdata (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–µ—Ç JSON —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä.

### –ù–∞ –¢–í–û–ï–ú –∞–∫–∫–∞—É–Ω—Ç–µ (—ç–∫—Å–ø–æ—Ä—Ç):

```bash
cd /home/—Ç–≤–æ–µ_–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/playandjump

# –ê–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
source venv/bin/activate

# –≠–∫—Å–ø–æ—Ä—Ç –í–°–ï–• –¥–∞–Ω–Ω—ã—Ö (–≤–∫–ª—é—á–∞—è –±—Ä–æ–Ω–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç–æ–≤–∞—Ä—ã)
python manage.py dumpdata > full_backup.json

# –ò–õ–ò —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–±—ã—Å—Ç—Ä–µ–µ):
python manage.py dumpdata catalog main auth.contenttypes auth.sessions > backup.json

# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
tar -czf media_backup.tar.gz media/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
ls -lh backup.json media_backup.tar.gz
```

**–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è:**
- `backup.json` - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã (–±—Ä–æ–Ω–∏, —Ç–æ–≤–∞—Ä—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- `media_backup.tar.gz` - –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:

1. –ó–∞–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **Files** –Ω–∞ Python Anywhere
2. –ù–∞–π–¥–∏ —Ñ–∞–π–ª—ã: `backup.json` –∏ `media_backup.tar.gz`
3. –ù–∞–∂–º–∏ –Ω–∞ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª ‚Üí **Download** (–∏–ª–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Save As)
4. –°–∫–∞—á–∞–π —Ñ–∞–π–ª—ã –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä

---

## üîÑ –í–ê–†–ò–ê–ù–¢ 2: –ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQLite —Ñ–∞–π–ª–∞ (–ë–´–°–¢–†–ï–ï)

–ï—Å–ª–∏ —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ–±–æ–ª—å—à–æ–π, –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º `db.sqlite3`.

### –ù–∞ –¢–í–û–ï–ú –∞–∫–∫–∞—É–Ω—Ç–µ:

```bash
cd /home/—Ç–≤–æ–µ_–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/playandjump

# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
tar -czf db_backup.tar.gz db.sqlite3

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª (–µ—Å–ª–∏ —Ñ–∞–π–ª –º–∞–ª–µ–Ω—å–∫–∏–π)
# –ß–µ—Ä–µ–∑ Files —Å–∫–∞—á–∞–π db.sqlite3 –Ω–∞–ø—Ä—è–º—É—é
```

**–°–∫–∞—á–∞–π —á–µ—Ä–µ–∑ Files:**
- `db.sqlite3` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `media_backup.tar.gz` - –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã

---

## üöÄ –ù–∞ –ö–õ–ò–ï–ù–¢–°–ö–û–ú –∞–∫–∫–∞—É–Ω—Ç–µ (–∏–º–ø–æ—Ä—Ç)

### –®–ê–ì 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd /home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/
git clone https://github.com/MitrofanovDm89/Site.git playandjump
cd playandjump

python3.10 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements_pythonanywhere.txt
```

### –®–ê–ì 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –±—ç–∫–∞–ø–∞

**–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Files:**
1. –ó–∞–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **Files**
2. –ü–µ—Ä–µ–π–¥–∏ –≤ `/home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump/`
3. –ù–∞–∂–º–∏ **Upload a file**
4. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª—ã:
   - `backup.json` (–∏–ª–∏ `db.sqlite3`)
   - `media_backup.tar.gz`

### –®–ê–ì 3–ê: –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ dumpdata (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –í–∞—Ä–∏–∞–Ω—Ç 1)

```bash
cd /home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump
source venv/bin/activate

# –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã (–º–∏–≥—Ä–∞—Ü–∏–∏)
python manage.py migrate

# –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
python manage.py loaddata backup.json
```

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞**, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –ø–æ —á–∞—Å—Ç—è–º:
```bash
# –°–Ω–∞—á–∞–ª–∞ –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python manage.py loaddata --exclude catalog.Booking --exclude catalog.Availability backup.json

# –ü–æ—Ç–æ–º –±—Ä–æ–Ω–∏ –æ—Ç–¥–µ–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
python manage.py loaddata --only catalog.Booking backup.json
```

### –®–ê–ì 3–ë: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQLite (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –í–∞—Ä–∏–∞–Ω—Ç 2)

```bash
cd /home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump
source venv/bin/activate

# –°–∫–æ–ø–∏—Ä—É–π db.sqlite3 –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª)
# –ß–µ—Ä–µ–∑ Files –ø–µ—Ä–µ–º–µ—Å—Ç–∏ db.sqlite3 –≤ /home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump/

# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞ –º–µ—Å—Ç–µ
ls -lh db.sqlite3

# –í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
python manage.py migrate
```

### –®–ê–ì 4: –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤

```bash
cd /home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump

# –†–∞—Å–ø–∞–∫—É–π –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã
tar -xzf media_backup.tar.gz

# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏—Å—å
ls -lh media/
```

### –®–ê–ì 5: –°–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

```bash
source venv/bin/activate
python manage.py collectstatic --noinput
```

### –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å
python manage.py shell

# –í shell:
>>> from catalog.models import Booking, Product, Category
>>> Booking.objects.count()  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–µ–π
>>> Product.objects.count()   # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
>>> Category.objects.count()  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
>>> exit()
```

### –®–ê–ì 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

(–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ QUICK_MIGRATION.md)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

### 1. –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- –ï—Å–ª–∏ `backup.json` –±–æ–ª—å—à–µ 10-15 –ú–ë, Python Anywhere –º–æ–∂–µ—Ç –Ω–µ –¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ Files
- –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π **–í–∞—Ä–∏–∞–Ω—Ç 2** (–ø—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `db.sqlite3`)

### 2. –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `dumpdata/loaddata` –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ `db.sqlite3` –ø–∞—Ä–æ–ª–∏ —Ç–æ–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–µ–º –∂–µ

### 3. ID –æ–±—ä–µ–∫—Ç–æ–≤
- –ü—Ä–∏ `dumpdata/loaddata` –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è ID, –µ—Å–ª–∏ –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Å–Ω–∞—á–∞–ª–∞ `python manage.py flush` (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ), –ø–æ—Ç–æ–º –∏–º–ø–æ—Ä—Ç

### 4. –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã
- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–∫–æ–ø–∏—Ä—É–π –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã, –∏–Ω–∞—á–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
- –ü—É—Ç—å: `/home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump/media/`

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤:

| –ú–µ—Ç–æ–¥ | –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã |
|-------|-------|--------|
| **dumpdata/loaddata** | –ß–∏—Å—Ç—ã–π –∏–º–ø–æ—Ä—Ç, –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —á—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å | –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ë–î |
| **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ db.sqlite3** | –ë—ã—Å—Ç—Ä–æ, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É | –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö/—Å—Ä–µ–¥–Ω–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π **–í–∞—Ä–∏–∞–Ω—Ç 1** (dumpdata). –î–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –∏–ª–∏ –µ—Å–ª–∏ —Å–ø–µ—à–∏—à—å - **–í–∞—Ä–∏–∞–Ω—Ç 2** (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞).

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞:

1. ‚úÖ –û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω–∫—É: `/admin/`
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –±—Ä–æ–Ω–∏: `/admin/catalog/booking/`
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–≤–∞—Ä—ã: `/admin/catalog/product/`
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è)
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Å–∞–π—Ç: –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–∞—Ç–∞–ª–æ–≥, —Ç–æ–≤–∞—Ä—ã

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### –û—à–∏–±–∫–∞ –ø—Ä–∏ loaddata:
```bash
# –ü–æ–ø—Ä–æ–±—É–π –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —á–∞—Å—Ç—è–º
python manage.py loaddata --only catalog.Category backup.json
python manage.py loaddata --only catalog.Product backup.json
python manage.py loaddata --only catalog.Booking backup.json
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—ã: `ls media/`
2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Web ‚Üí Static files: `/media/` ‚Üí `/home/–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞/playandjump/media`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –î–∞–Ω–Ω—ã–µ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å:
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª `backup.json` –∑–∞–≥—Ä—É–∂–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã: `python manage.py migrate`
3. –ü–æ–ø—Ä–æ–±—É–π –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ: `python manage.py loaddata backup.json`

